import{d as V,e as r,f as L,o as N,c as _,a as s,b as o,w as f,u as E,F as q,r as x,g as C,h as y,i as v}from"./index-ZwJaeH-t.js";import{L as K,a as j}from"./index-Cyx9wH0p.js";import{N as k}from"./NotificationModal-BRD1dcli.js";/* empty css              */const T="/SGC_ClinicaDental/assets/Logo-TqHxKWO-.jpg",F={class:"lg:w-1/2 xl:w-2/4 p-6 sm:p-12"},R={class:"mt-12 flex flex-col items-center"},$={class:"w-full flex-1 mt-8"},B={class:"mx-auto max-w-xs"},M={class:"flex justify-center w-full mt-5"},P={class:"flex justify-center w-full mt-5"},H=V({__name:"LoginPage",setup(U){const i=r(!1),l=r(""),n=r("success"),d=r(!1),m=r(""),c=r(""),u=L({id:0,nombre:"",apellido:"",ocupacion:""}),w=t=>{const e=`${t.nombre} ${t.apellido}`,a=`${t.id}`;setTimeout(()=>{t.ocupacion==="Paciente"?v.push({path:"/paciente",query:{userName:e,id:a}}):t.ocupacion==="Medico"?v.push({path:"/medico",query:{userName:e,id:a}}):v.push({path:"/administrador",query:{userName:e}}),d.value=!1,i.value=!0},2e3)},h=async()=>{d.value=!0;try{const t=await j.post("http://localhost:8080/Login/Verificar",{correo:m.value,password:c.value});t.status===200&&t.status<300?(l.value="Logín exitoso",n.value="success",u.id=t.data.id,u.nombre=t.data.nombre,u.apellido=t.data.apellido,u.ocupacion=t.data.ocupacion,w(u)):(l.value="Error en el login: "+t.statusText,n.value="error")}catch(t){t.response?(l.value="Correo inválido: "+t.response.data,n.value="error"):t.request?(l.value="No se recibió respuesta del servidor",n.value="error"):(l.value="Error en la solicitud: "+t.message,n.value="error")}finally{d.value=!1,i.value=!0}},g=()=>{i.value||h()};return(t,e)=>{const a=x("FormKit"),b=x("RouterLink");return N(),_(q,null,[s("div",F,[e[10]||(e[10]=s("div",{class:"flex justify-center items-center"},[s("img",{src:T,class:"w-4/12 rounded-full"})],-1)),s("div",R,[s("div",$,[s("div",B,[o(a,{type:"form",onSubmit:g,class:"space-y-5",actions:!1},{default:f(()=>[o(a,{type:"email",name:"email",label:"Email",value:m.value,modelValue:m.value,"onUpdate:modelValue":e[0]||(e[0]=p=>m.value=p),"input-class":"w-full px-8 py-4 rounded-lg font-medium bg-gray-100 border border-gray-200 placeholder-gray-500 text-sm focus:outline-none focus:border-gray-400 focus:bg-white mt-2"},null,8,["value","modelValue"]),e[3]||(e[3]=s("br",null,null,-1)),o(a,{type:"password",name:"password",label:"Password",value:c.value,modelValue:c.value,"onUpdate:modelValue":e[1]||(e[1]=p=>c.value=p),onKeyup:C(g,["enter"]),"input-class":"w-full px-8 py-4 rounded-lg font-medium bg-gray-100 border border-gray-200 placeholder-gray-500 text-sm focus:outline-none focus:border-gray-400 focus:bg-white mt-2"},null,8,["value","modelValue"]),o(a,{type:"submit",label:"Entrar","input-class":"mt-5 tracking-wide font-semibold bg-green-400 text-white w-5/12 py-4 rounded-lg hover:bg-green-700 transition-all duration-300 ease-in-out flex justify-center items-center focus:shadow-outline focus:outline-none"})]),_:1})]),e[8]||(e[8]=s("br",null,null,-1)),e[9]||(e[9]=s("br",null,null,-1)),s("div",M,[e[5]||(e[5]=s("p",{class:"text-sm"},"¿Eres un paciente no registrado?",-1)),o(b,{to:{name:"register"},class:"text-blue-500 text-sm font-medium hover:underline hover:text-blue-700 transition duration-300 ease-in-out"},{default:f(()=>e[4]||(e[4]=[y(" Regístrate aquí ")])),_:1})]),s("div",P,[e[7]||(e[7]=s("p",{class:"text-sm"},"¿Olvidaste tu contraseña?",-1)),o(b,{to:{name:"email"},class:"text-blue-500 text-sm font-medium hover:underline hover:text-blue-700 transition duration-300 ease-in-out"},{default:f(()=>e[6]||(e[6]=[y(" Recuperar contraseña ")])),_:1})])])])]),o(k,{message:l.value,type:n.value,visible:i.value,"onUpdate:visible":e[2]||(e[2]=p=>i.value=!1)},null,8,["message","type","visible"]),o(E(K),{active:d.value,"can-cancel":!0,"is-full-page":!0},null,8,["active"])],64)}}});export{H as default};
