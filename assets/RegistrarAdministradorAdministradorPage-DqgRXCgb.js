import{d as b,e as u,f as v,o as f,c as g,b as s,a as t,w as c,u as y,F as w,r as x,g as V}from"./index-ZwJaeH-t.js";import{a as k,L as q}from"./index-Cyx9wH0p.js";/* empty css              */import{N as E}from"./NotificationModal-BRD1dcli.js";const N={class:"w-full max-w-md mx-auto mt-10"},L=b({__name:"RegistrarAdministradorAdministradorPage",setup(A){const d=u(!1),a=u(""),i=u(""),m=u(!1),l=v({nombre:"",apellido:"",correo:"",password:""});async function p(){m.value=!0;try{const o=await k.post("http://localhost:8080/Administrador/RegistrarAdministrador",l);o.status>=200&&o.status<300&&(a.value="Administrador registrado exitosamente",i.value="success")}catch(o){if(o.response){const e=o.response.data;o.response.status===409?a.value=e:a.value="Error al registrar: "+e,i.value="error",console.log(a.value,i.value)}else o.request?(console.error("No se recibió respuesta del servidor:",o.request),a.value="No se recibió respuesta del servidor",i.value="error"):(console.error("Error en la solicitud:",o.message),a.value=`Error en la solicitud: ${o.message}`,i.value="error")}finally{d.value=!0,m.value=!1}}return(o,e)=>{const n=x("FormKit");return f(),g(w,null,[s(E,{message:a.value,type:i.value,visible:d.value,"onUpdate:visible":e[0]||(e[0]=r=>d.value=!1)},null,8,["message","type","visible"]),t("div",N,[e[10]||(e[10]=t("h1",{class:"text-2xl font-bold text-center mb-6"},"Registro de Administrador",-1)),s(n,{type:"form",onSubmit:p,class:"space-y-4",actions:!1},{default:c(()=>[s(n,{type:"text",name:"nombre",label:"Nombre",modelValue:l.nombre,"onUpdate:modelValue":e[1]||(e[1]=r=>l.nombre=r),"input-class":"mt-1 block w-full p-2 border border-gray-300 rounded-md text-black",validation:"required","validation-messages":{required:"El nombre es obligatorio.",alpha:"Solo se aceptan mayusculas y minusculas"}},null,8,["modelValue"]),e[5]||(e[5]=t("br",null,null,-1)),s(n,{type:"text",name:"apellido",label:"Apellido",modelValue:l.apellido,"onUpdate:modelValue":e[2]||(e[2]=r=>l.apellido=r),"input-class":"mt-1 block w-full p-2 border border-gray-300 rounded-md text-black",validation:"required","validation-messages":{required:"El apellido es obligatorio."}},null,8,["modelValue"]),e[6]||(e[6]=t("br",null,null,-1)),s(n,{type:"email",name:"correo",label:"Correo Electrónico",modelValue:l.correo,"onUpdate:modelValue":e[3]||(e[3]=r=>l.correo=r),"input-class":"mt-1 block w-full p-2 border border-gray-300 rounded-md text-black",validation:"required|email","validation-messages":{required:"El correo es obligatorio.",email:"Ingrese un correo válido."}},null,8,["modelValue"]),e[7]||(e[7]=t("br",null,null,-1)),s(n,{type:"password",name:"password",label:"Contraseña",modelValue:l.password,"onUpdate:modelValue":e[4]||(e[4]=r=>l.password=r),onKeyup:V(p,["enter"]),"input-class":"mt-1 block w-full p-2 border border-gray-300 rounded-md text-black",validation:"required","validation-messages":{required:"La contraseña es obligatoria."}},null,8,["modelValue"]),e[8]||(e[8]=t("br",null,null,-1)),e[9]||(e[9]=t("button",{type:"submit",class:"w-full py-3 px-6 bg-blue-500 text-white rounded-lg font-semibold hover:bg-blue-600 transition duration-300"}," Registrar administrador ",-1))]),_:1}),s(y(q),{active:m.value,"can-cancel":!0,"is-full-page":!0},null,8,["active"])])],64)}}});export{L as default};
