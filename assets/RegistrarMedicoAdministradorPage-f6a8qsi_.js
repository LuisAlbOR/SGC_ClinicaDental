import{d as c,f,e as n,o as v,c as g,a as i,b as a,w as x,u as b,r as y,g as w}from"./index-ZwJaeH-t.js";import{a as V,L as k}from"./index-Cyx9wH0p.js";/* empty css              */import{N as q}from"./NotificationModal-BRD1dcli.js";import{e as E}from"./Especialidades-Cb2kmacW.js";const N={class:"w-full max-w-md mx-auto mt-10"},B=c({__name:"RegistrarMedicoAdministradorPage",setup(M){const l=f({nombre:"",apellido:"",especialidad:"",telefono:"",correo:"",password:""}),u=n(!1),t=n(""),d=n(""),m=n(!1);async function p(){m.value=!0;try{const r=await V.post("http://localhost:8080/Medico/RegistroMedico",l);r.status>=200&&r.status<300&&(console.log(" juas"+l),t.value="Médico registrado exitosamente",d.value="success")}catch(r){if(r.response){const e=r.response.data;r.response.status===409?t.value=e:t.value="Error al registrar: "+e,d.value="error",console.log(t.value,d.value)}else r.request?(console.error("No se recibió respuesta del servidor:",r.request),t.value="No se recibió respuesta del servidor",d.value="error"):(console.error("Error en la solicitud:",r.message),t.value=`Error en la solicitud: ${r.message}`,d.value="error")}finally{u.value=!0,m.value=!1}}return(r,e)=>{const s=y("FormKit");return v(),g("div",N,[e[13]||(e[13]=i("h1",{class:"text-2xl font-bold text-center mb-6"},"Registro de médico",-1)),a(q,{message:t.value,type:d.value,visible:u.value,"onUpdate:visible":e[0]||(e[0]=o=>u.value=!1)},null,8,["message","type","visible"]),a(s,{type:"form",onSubmit:p,class:"space-y-4",actions:!1},{default:x(()=>[a(s,{type:"text",name:"nombre",label:"Nombre",modelValue:l.nombre,"onUpdate:modelValue":e[1]||(e[1]=o=>l.nombre=o),"input-class":"mt-1 block w-full p-2 border border-gray-300 rounded-md text-black",validation:"required","input-error-class":"border-red-500","validation-messages":{required:"El nombre es obligatorio.",alpha:"Solo se aceptan mayusculas y minusculas"}},null,8,["modelValue"]),e[7]||(e[7]=i("br",null,null,-1)),a(s,{type:"text",name:"apellido",label:"Apellido",modelValue:l.apellido,"onUpdate:modelValue":e[2]||(e[2]=o=>l.apellido=o),"input-class":"mt-1 block w-full p-2 border border-gray-300 rounded-md text-black",validation:"required","input-error-class":"border-red-500","validation-messages":{required:"El apellido es obligatorio.",alpha:"Solo se aceptan mayusculas y minusculas"}},null,8,["modelValue"]),e[8]||(e[8]=i("br",null,null,-1)),a(s,{type:"select",name:"especialidad",label:"Especialidad",modelValue:l.especialidad,"onUpdate:modelValue":e[3]||(e[3]=o=>l.especialidad=o),options:b(E),"input-class":"mt-1 block w-full p-2 border border-gray-300 rounded-md text-black",validation:"required","input-error-class":"border-red-500","validation-messages":{required:"La especialidad es obligatoria."}},null,8,["modelValue","options"]),e[9]||(e[9]=i("br",null,null,-1)),a(s,{type:"tel",name:"telefono",label:"Teléfono",modelValue:l.telefono,"onUpdate:modelValue":e[4]||(e[4]=o=>l.telefono=o),placeholder:"xxx-xxx-xxxx","input-class":"mt-1 block w-full p-2 border border-gray-300 rounded-md text-black",validation:"required|matches:/^[0-9]{3}-[0-9]{3}-[0-9]{4}$/","input-error-class":"border-red-500","validation-messages":{required:"El teléfono es obligatorio.",matches:"El formato debe ser xxx-xxx-xxxx"}},null,8,["modelValue"]),e[10]||(e[10]=i("br",null,null,-1)),a(s,{type:"email",name:"correo",label:"Correo Electrónico",modelValue:l.correo,"onUpdate:modelValue":e[5]||(e[5]=o=>l.correo=o),"input-class":"mt-1 block w-full p-2 border border-gray-300 rounded-md text-black",validation:"required|email","input-error-class":"border-red-500","validation-messages":{required:"El correo es obligatorio.",email:"Ingrese un correo válido."}},null,8,["modelValue"]),e[11]||(e[11]=i("br",null,null,-1)),a(s,{type:"password",name:"password",label:"Contraseña",modelValue:l.password,"onUpdate:modelValue":e[6]||(e[6]=o=>l.password=o),"input-class":"mt-1 block w-full p-2 border border-gray-300 rounded-md text-black",validation:"required","input-error-class":"border-red-500","validation-messages":{required:"La contraseña es obligatoria."},onKeyup:w(p,["enter"])},null,8,["modelValue"]),e[12]||(e[12]=i("br",null,null,-1)),a(s,{type:"submit",label:"Registrar Médico","input-class":"w-full py-3 px-6 bg-blue-500 text-white rounded-lg font-semibold hover:bg-blue-600 transition duration-300"})]),_:1}),a(b(k),{active:m.value,"can-cancel":!0,"is-full-page":!0},null,8,["active"])])}}});export{B as default};
