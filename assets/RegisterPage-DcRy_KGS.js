import{d as f,e as u,f as g,o as v,c as x,a as r,b as a,w as y,u as w,F as V,j as q,r as N}from"./index-ZwJaeH-t.js";import{a as E,L as k}from"./index-Cyx9wH0p.js";/* empty css              */import{N as U}from"./NotificationModal-BRD1dcli.js";const C={class:"lg:w-1/2 xl:w-2/4 p-6 sm:p-12"},F={class:"w-full flex-1 flex flex-col items-center mt-2"},L={class:"w-full lg:w-2/3 flex flex-col justify-center"},j=f({__name:"RegisterPage",setup(R){const d=u(!1),i=u(""),n=u(""),m=u(!1),p=q(),l=g({nombre:"",apellido:"",fechaNacimiento:"",genero:"",correo:"",telefono:"",direccion:"",password:""});async function c(){m.value=!0;try{const t=await E.post("http://localhost:8080/Paciente/RegistrarPaciente",l);t.status>=200&&t.status<300&&(i.value="Paciente registrado exitosamente",n.value="success",setTimeout(()=>{b()},3e3))}catch(t){if(t.response){const e=t.response.data;t.response.status===409?i.value=e:i.value="Error al registrar: "+e,n.value="error",console.log(i.value,n.value)}else t.request?(console.error("No se recibió respuesta del servidor:",t.request),i.value="No se recibió respuesta del servidor",n.value="error"):(console.error("Error en la solicitud:",t.message),i.value=`Error en la solicitud: ${t.message}`,n.value="error")}finally{d.value=!0,m.value=!1}}function b(){p.push({name:"login"})}return(t,e)=>{const s=N("FormKit");return v(),x(V,null,[r("div",C,[r("div",F,[a(U,{message:i.value,type:n.value,visible:d.value,"onUpdate:visible":e[0]||(e[0]=o=>d.value=!1)},null,8,["message","type","visible"]),r("div",L,[e[18]||(e[18]=r("h1",{class:"text-3xl font-bold text-center mb-8"},"Registro de paciente",-1)),a(s,{type:"form",onSubmit:c,class:"space-y-4",actions:!1},{default:y(()=>[a(s,{type:"text",name:"nombre",label:"Nombre",modelValue:l.nombre,"onUpdate:modelValue":e[1]||(e[1]=o=>l.nombre=o),"input-class":"mt-1 block w-full p-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",validation:"required","input-error-class":"border-red-500","validation-class":"text-red-500 text-sm mt-1","validation-visibility":"blur","validation-messages":{required:"El nombre es obligatorio.",alpha:"Solo se aceptan letras mayusculas y minusculas"}},null,8,["modelValue"]),e[9]||(e[9]=r("br",null,null,-1)),a(s,{type:"text",name:"apellido",label:"Apellido",modelValue:l.apellido,"onUpdate:modelValue":e[2]||(e[2]=o=>l.apellido=o),"input-class":"mt-1 block w-full p-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",validation:"required","input-error-class":"border-red-500","validation-class":"text-red-500 text-sm mt-1","validation-messages":{required:"El apellido es obligatorio.",alpha:"Solo se aceptan letras mayusculas y minusculas"}},null,8,["modelValue"]),e[10]||(e[10]=r("br",null,null,-1)),a(s,{type:"date",name:"fechaNacimiento",label:"Fecha de Nacimiento",modelValue:l.fechaNacimiento,"onUpdate:modelValue":e[3]||(e[3]=o=>l.fechaNacimiento=o),"input-class":"mt-1 block w-full p-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",validation:"required","input-error-class":"border-red-500","validation-class":"text-red-500 text-sm mt-1","validation-messages":{required:"La fecha de nacimiento es obligatoria."}},null,8,["modelValue"]),e[11]||(e[11]=r("br",null,null,-1)),a(s,{type:"tel",name:"telefono",label:"Teléfono",modelValue:l.telefono,"onUpdate:modelValue":e[4]||(e[4]=o=>l.telefono=o),modelModifiers:{trim:!0},"input-class":"mt-1 block w-full p-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500","input-error-class":"border-red-500","validation-class":"text-red-500 text-sm mt-1",validation:"requeried|matches:/^[0-9]{3}-[0-9]{3}-[0-9]{4}$/","validation-messages":{required:"El teléfono es obligatorio.",matches:"El formato debe ser xxx-xxx-xxxx"},placeholder:"000-000-000"},null,8,["modelValue"]),e[12]||(e[12]=r("br",null,null,-1)),a(s,{type:"text",name:"direccion",label:"Dirección",modelValue:l.direccion,"onUpdate:modelValue":e[5]||(e[5]=o=>l.direccion=o),"input-class":"mt-1 block w-full p-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",validation:"required","input-error-class":"border-red-500","validation-class":"text-red-500 text-sm mt-1","validation-messages":{required:"La dirección es obligatoria."}},null,8,["modelValue"]),e[13]||(e[13]=r("br",null,null,-1)),a(s,{type:"select",name:"genero",label:"Género",modelValue:l.genero,"onUpdate:modelValue":e[6]||(e[6]=o=>l.genero=o),"input-class":"mt-1 block w-full p-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",validation:"required","input-error-class":"border-red-500","validation-class":"text-red-500 text-sm mt-1","validation-messages":{required:"El género es obligatorio."},options:[{label:"Masculino",value:"masculino"},{label:"Femenino",value:"femenino"},{label:"Otro",value:"otro"}],placeholder:"Seleccione una opción"},null,8,["modelValue"]),e[14]||(e[14]=r("br",null,null,-1)),a(s,{type:"email",name:"correo",label:"Correo Electrónico",modelValue:l.correo,"onUpdate:modelValue":e[7]||(e[7]=o=>l.correo=o),"input-class":"mt-1 block w-full p-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",validation:"required|email","input-error-class":"border-red-500","validation-class":"text-red-500 text-sm mt-1","validation-messages":{required:"El correo es obligatorio.",email:"Ingrese un correo válido."}},null,8,["modelValue"]),e[15]||(e[15]=r("br",null,null,-1)),a(s,{type:"password",name:"password",label:"Contraseña",modelValue:l.password,"onUpdate:modelValue":e[8]||(e[8]=o=>l.password=o),"input-class":"mt-1 block w-full p-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",validation:"required","input-error-class":"border-red-500","validation-class":"text-red-500 text-sm mt-1","validation-messages":{required:"La contraseña es obligatoria."}},null,8,["modelValue"]),e[16]||(e[16]=r("br",null,null,-1)),e[17]||(e[17]=r("button",{type:"submit",class:"w-full py-3 px-6 bg-blue-500 text-white rounded-lg font-semibold hover:bg-blue-600 transition duration-300"}," Registrarse ",-1))]),_:1})]),e[19]||(e[19]=r("br",null,null,-1)),r("div",{class:"w-4/12 py-3 px-6 bg-blue-500 text-white rounded-lg font-semibold hover:bg-blue-600 transition duration-300 text-center"},[r("button",{onClick:b,class:"text-white font-medium hover:underline hover:text-blue-700 transition duration-300 ease-in-out"}," Cancelar ")])])]),a(w(k),{active:m.value,"can-cancel":!0,"is-full-page":!0},null,8,["active"])],64)}}});export{j as default};
