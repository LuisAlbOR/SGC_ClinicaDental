import{_ as B,a as U,b as F}from"./ViewIcon-OR__3BWO.js";import{N as O}from"./NotificationModal-BRD1dcli.js";/* empty css              */import{a as C,L as M}from"./index-Cyx9wH0p.js";import{d as V,o as m,c as b,a as e,h as k,t as f,y as z,e as d,b as p,u as j,F as E,f as P,z as W,w as K,r as S,m as G,s as H,x as J}from"./index-ZwJaeH-t.js";const Q={key:0,class:"fixed inset-0 bg-gray-800 bg-opacity-50 flex justify-center items-center z-50"},R={class:"bg-white rounded-lg shadow-lg w-11/12 md:w-1/3 p-6"},X={class:"text-gray-700 space-y-2"},Y=V({__name:"ViewAdministradorPage",props:{administrador:{},isVisible:{type:Boolean}},emits:["close"],setup(w,{emit:g}){const u=g;function n(){u("close")}return(r,t)=>r.isVisible?(m(),b("div",Q,[e("div",R,[t[5]||(t[5]=e("h2",{class:"text-xl font-semibold text-black mb-4 text-center"},"Detalles del Médico",-1)),e("ul",X,[e("li",null,[t[0]||(t[0]=e("strong",null,"ID:",-1)),k(" "+f(r.administrador.id_administrador),1)]),e("li",null,[t[1]||(t[1]=e("strong",null,"Nombre:",-1)),k(" "+f(r.administrador.nombreAdministrador),1)]),e("li",null,[t[2]||(t[2]=e("strong",null,"Apellido:",-1)),k(" "+f(r.administrador.apellidoAdministrador),1)]),e("li",null,[t[3]||(t[3]=e("strong",null,"Especialidad:",-1)),k(" "+f(r.administrador.correoAdministrador),1)]),e("li",null,[t[4]||(t[4]=e("strong",null,"Télefono:",-1)),k(" "+f(r.administrador.passwordAdministrador),1)])]),e("div",{class:"mt-6 flex justify-center"},[e("button",{onClick:n,class:"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-green-400"}," Aceptar ")])])])):z("",!0)}}),Z={key:0,class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50"},ee=V({__name:"NotificationDeleteAdministradorModal",props:{isVisible:{type:Boolean},administrador:{}},emits:["confirm","cancel"],setup(w,{emit:g}){const u=w,n=d(""),r=d(""),t=d(!1),c=g,a=()=>{console.log(u.administrador.id_administrador),v()},x=()=>{c("cancel")},y=()=>{c("confirm",{message:n.value,type:r.value})},v=async()=>{t.value=!0;const i=`http://localhost:8080/Administrador/EliminarAdministrador/${u.administrador.id_administrador}`;try{await C.delete(i),n.value="Administrador eliminado con éxito",r.value="success"}catch{n.value="Error al eliminar al administrador",r.value="error"}finally{setTimeout(()=>{t.value=!1,y()},2e3)}};return(i,o)=>(m(),b(E,null,[i.isVisible?(m(),b("div",Z,[e("div",{class:"bg-white p-6 rounded-lg shadow-lg w-96"},[o[0]||(o[0]=e("h3",{class:"text-xl font-semibold mb-4 text-red-600"},"Alerta",-1)),o[1]||(o[1]=e("p",{class:"mb-6 text-center text-black"},"¿Estás seguro de la eliminación?",-1)),e("div",{class:"flex justify-end space-x-4"},[e("button",{onClick:x,class:"px-4 py-2 bg-gray-500 rounded-md"},"Cancelar"),e("button",{onClick:a,class:"px-4 py-2 bg-red-600 text-white rounded-md"},"Aceptar")])])])):z("",!0),p(j(M),{active:t.value,"can-cancel":!0,"is-full-page":!0},null,8,["active"])],64))}}),te={class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50"},se={class:"bg-gray-100 rounded-lg shadow-lg w-2/3 p-6 text-black"},oe={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},re=V({__name:"EditAdministradorPage",props:{administrador:{}},emits:["close"],setup(w,{emit:g}){const u=w,n=g,r=d(!1),t=d(""),c=d(""),a=P({id_administrador:0,nombreAdministrador:"",apellidoAdministrador:"",correoAdministrador:"",passwordAdministrador:""}),x=()=>({nombre:a.nombreAdministrador,apellido:a.apellidoAdministrador,correo:a.correoAdministrador});Object.assign(a,u.administrador),W(()=>u.administrador,i=>{i&&Object.assign(a,i)});const y=()=>{n("close",{message:t.value,type:c.value})};async function v(){r.value=!0;try{const i=x(),o=await C.put(`http://localhost:8080/Administrador/ActualizarAdministrador/${a.id_administrador}`,i);o.status>=200&&o.status<300&&(t.value="Administrador actualizado exitosamente",c.value="success")}catch(i){if(i.response){const o=i.response.data;i.response.status===409?t.value=o:t.value="Error al actualizar: "+o,c.value="error",console.log(t.value,c.value)}else i.request?(console.error("No se recibió respuesta del servidor:",i.request),t.value="No se recibió respuesta del servidor",c.value="error"):(console.error("Error en la solicitud:",i.message),t.value=`Error en la solicitud: ${i.message}`,c.value="error")}finally{setTimeout(()=>{r.value=!1,y()},2e3)}}return(i,o)=>{const _=S("FormKit");return m(),b(E,null,[e("div",te,[e("div",se,[o[4]||(o[4]=e("h2",{class:"text-2xl font-semibold mb-4 text-center text-black"},"Editar administrador",-1)),p(_,{type:"form",onSubmit:v,class:"space-y-6",actions:!1},{default:K(()=>[e("div",oe,[p(_,{type:"text",name:"nombre",label:"Nombre",modelValue:a.nombreAdministrador,"onUpdate:modelValue":o[0]||(o[0]=h=>a.nombreAdministrador=h),"input-class":"mt-1 block w-full p-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 text-black",validation:"required","input-error-class":"border-red-500","validation-class":"text-red-500 text-sm mt-1","validation-visibility":"blur","validation-messages":{required:"El nombre es obligatorio."},placeholder:"Ingrese el nombre"},null,8,["modelValue"]),p(_,{type:"text",name:"apellido",label:"Apellido",modelValue:a.apellidoAdministrador,"onUpdate:modelValue":o[1]||(o[1]=h=>a.apellidoAdministrador=h),"input-class":"mt-1 block w-full p-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 text-black",validation:"required","input-error-class":"border-red-500","validation-class":"text-red-500 text-sm mt-1","validation-visibility":"blur","validation-messages":{required:"El apellido es obligatorio."},placeholder:"Ingrese el apellido"},null,8,["modelValue"]),p(_,{type:"email",name:"correo",label:"Correo Electrónico",modelValue:a.correoAdministrador,"onUpdate:modelValue":o[2]||(o[2]=h=>a.correoAdministrador=h),"input-class":"mt-1 block w-full p-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 text-black",validation:"required|email","input-error-class":"border-red-500","validation-class":"text-red-500 text-sm mt-1","validation-visibility":"blur","validation-messages":{required:"El correo es obligatorio.",email:"Ingrese un correo válido."},placeholder:"Ingrese el correo electrónico"},null,8,["modelValue"])]),o[3]||(o[3]=e("br",null,null,-1))]),_:1}),o[5]||(o[5]=e("br",null,null,-1)),e("div",{class:"flex justify-end space-x-4"},[e("button",{type:"button",onClick:y,class:"px-4 py-2 bg-gray-300 text-gray-700 rounded hover:bg-gray-400 transition"},"Cancelar"),e("button",{type:"submit",onClick:v,class:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition"},"Guardar")])])]),p(j(M),{active:r.value,"can-cancel":!0,"is-full-page":!0},null,8,["active"])],64)}}}),ie={class:"flex flex-col"},ae={class:"overflow-x-auto"},le={class:"min-w-full inline-block align-middle"},ne={class:"overflow-hidden"},de={class:"min-w-full rounded-xl"},ce={key:0,class:"divide-y divide-gray-300"},ue={class:"p-5"},me={class:"p-5"},pe={class:"p-5"},ve={class:"p-5"},be={class:"p-5 flex items-center space-x-3"},fe=["onClick"],ge=["onClick"],xe=["onClick"],ye={key:1},Ae="http://localhost:8080/Administrador/ListarAdministrador",Ee=V({__name:"VisualizarAdministradoresAdministradorPage",setup(w){const g=d([]),u=d(!1),n=d(""),r=d(""),t=d(!1),c=d(!1),a=d(!1),x=d(!1),y=d(!1),v=d({id_administrador:0,nombreAdministrador:"",apellidoAdministrador:"",correoAdministrador:"",passwordAdministrador:""}),i=s=>{$(s),setTimeout(()=>{u.value=!1,a.value=!0},1e3)},o=s=>{$(s),setTimeout(()=>{u.value=!1,x.value=!0},1e3)},_=s=>{$(s),setTimeout(()=>{u.value=!1,y.value=!0},1e3)},h=()=>{y.value=!1},D=()=>{x.value=!1},q=s=>{x.value=!1,s&&s.message&&s.type?(n.value=s.message,r.value=s.type,t.value=!0,N()):t.value=!1},I=s=>{a.value=!1,s&&s.message&&s.type?(n.value=s.message,r.value=s.type,t.value=!0,N()):t.value=!1};async function $(s){u.value=!0;try{const l=await C.get(`http://localhost:8080/Administrador/ListadoAdministrador/${s.id_administrador}`);Object.assign(v.value,l.data)}catch(l){C.isAxiosError(l)&&l.response?n.value=`Error al obtener los datos del paciente: ${l.response.data.message||l.message}`:n.value=`Error al obtener los datos del paciente: ${l instanceof Error?l.message:"Error desconocido"}`,r.value="error",t.value=!0}}async function N(){try{const s=await C.get(Ae);g.value=s.data,s.data&&s.data.length>0?c.value=!0:c.value=!1}catch(s){c.value=!1,s.response?(n.value=s.response.data||"Error en el registro",r.value="error",t.value=!0):s.request?(n.value="No se recibió respuesta del servidor",r.value="error",t.value=!0):(n.value=`Error en la solicitud: ${s.message}`,r.value="error",t.value=!0)}}return G(()=>{N()}),(s,l)=>(m(),b(E,null,[e("div",ie,[e("div",ae,[e("div",le,[l[3]||(l[3]=e("div",{class:"relative text-gray-500 focus-within:text-gray-900 mb-4"},[e("div",{class:"absolute inset-y-0 left-1 flex items-center pl-3 pointer-events-none"})],-1)),e("div",ne,[e("table",de,[l[2]||(l[2]=e("thead",null,[e("tr",{class:"bg-gray-300"},[e("th",{scope:"col",class:"p-5 text-left text-sm leading-6 font-semibold text-gray-900 capitalize rounded-t-xl"}," Nombre "),e("th",{scope:"col",class:"p-5 text-left text-sm leading-6 font-semibold text-gray-900 capitalize"}," Apellido "),e("th",{scope:"col",class:"p-5 text-left text-sm leading-6 font-semibold text-gray-900 capitalize"}," Correo "),e("th",{scope:"col",class:"p-5 text-left text-sm leading-6 font-semibold text-gray-900 capitalize"}," Contraseña "),e("th",{scope:"col",class:"p-5 text-left text-sm leading-6 font-semibold text-gray-900 capitalize rounded-t-xl"},"Acciones ")])],-1)),c.value?(m(),b("tbody",ce,[(m(!0),b(E,null,H(g.value,(A,L)=>(m(),b("tr",{key:L},[e("td",ue,f(A.nombreAdministrador),1),e("td",me,f(A.apellidoAdministrador),1),e("td",pe,f(A.correoAdministrador),1),e("td",ve,f(A.passwordAdministrador),1),e("td",be,[e("img",{src:B,alt:"Edit Icon",onClick:T=>i(A),class:"w-6 h-6 cursor-pointer filter drop-shadow-lg transition-transform duration-200 ease-in-out transform hover:scale-125 bg-blue-200 hover:bg-blue-400 rounded-md"},null,8,fe),e("img",{src:U,alt:"Delete Icon",onClick:T=>o(A),class:"w-6 h-6 cursor-pointer filter drop-shadow-lg transition-transform duration-200 ease-in-out transform hover:scale-125 bg-red-200 hover:bg-red-400 rounded-md"},null,8,ge),e("img",{src:F,alt:"View Icon",onClick:T=>_(A),class:"w-6 h-6 cursor-pointer filter drop-shadow-lg transition-transform duration-200 ease-in-out transform hover:scale-125 bg-green-200 hover:bg-green-400 rounded-md"},null,8,xe)])]))),128))])):(m(),b("tbody",ye,l[1]||(l[1]=[e("tr",null,[e("td",{colspan:"5",class:"text-center p-5"},[e("h1",{class:"text-xl font-semibold text-gray-500"},"No se encontraron registros"),e("p",{class:"text-gray-400 mt-2"},"Intenta ajustar tus filtros o buscar de nuevo.")])],-1)])))])])])])]),p(O,{message:n.value,type:r.value,visible:t.value,"onUpdate:visible":l[0]||(l[0]=A=>t.value=!1)},null,8,["message","type","visible"]),p(j(M),{active:u.value,"can-cancel":!0,"is-full-page":!0},null,8,["active"]),p(Y,{"is-visible":y.value,administrador:v.value,onClose:h},null,8,["is-visible","administrador"]),p(ee,{administrador:v.value,"is-visible":x.value,onCancel:D,onConfirm:q},null,8,["administrador","is-visible"]),a.value?(m(),J(re,{key:0,administrador:v.value,onClose:I},null,8,["administrador"])):z("",!0)],64))}});export{Ee as default};
